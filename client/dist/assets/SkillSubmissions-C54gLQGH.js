import{c as y,r as c,j as e,B as A,C as L,D as M}from"./index-CldpBSC-.js";import{a4 as X,a5 as ie,a6 as re,a7 as se,a8 as ne,a9 as ae,aa as oe,ab as le,ac as de,ad as ce,ae as pe,af as xe,ag as ge,ah as Y,ai as fe,aj as H,ak as he,a as O,A as T,M as N,al as ue,j as ye,R as F,K as me,N as be,O as ve,Q as je,V as ke,y as Q,G as _e,x as Se,X as we,Y as ze,H as Ce,J as Pe,d as Re,B as Ie,Z as Oe,b as Z,C as J,i as ee,k as Ae,F as V,c as Ee,n as We,g as De,h as Le}from"./Portal-Cg5WPEZp.js";const Me=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Rt=y("camera",Me);const Ne=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],It=y("chevron-left",Ne);const Te=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Be=y("chevron-right",Te);const $e=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ot=y("external-link",$e);const qe=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],At=y("github",qe);const He=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Et=y("hash",He);const Fe=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Wt=y("key",Fe);const Qe=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Dt=y("layers",Qe);const Ve=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],K=y("loader-circle",Ve);const Ke=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],Lt=y("maximize",Ke);const Ge=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Mt=y("mic",Ge);const Ue=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Nt=y("play",Ue);const Xe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Tt=y("refresh-cw",Xe);const Ye=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ze=y("rotate-ccw",Ye);const Je=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bt=y("settings",Je);const et=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],$t=y("smartphone",et);const tt=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],qt=y("toggle-left",tt);const it=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Ht=y("video",it);function E(){return E=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var n in s)({}).hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},E.apply(null,arguments)}function G(t,i){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),s.push.apply(s,n)}return s}function rt(t){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?G(Object(s),!0).forEach(function(n){st(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):G(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function st(t,i,s){return(i=nt(i))in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s,t}function nt(t){var i=at(t,"string");return typeof i=="symbol"?i:i+""}function at(t,i){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,i);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}var _=32,ot={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function lt(t){var{data:i,iconType:s,inactiveColor:n}=t,l=_/2,g=_/6,v=_/3,u=i.inactive?n:i.color,f=s??i.type;if(f==="none")return null;if(f==="plainline"){var h;return c.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(h=i.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:l,x2:_,y2:l,className:"recharts-legend-icon"})}if(f==="line")return c.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(l,"h").concat(v,`
            A`).concat(g,",").concat(g,",0,1,1,").concat(2*v,",").concat(l,`
            H`).concat(_,"M").concat(2*v,",").concat(l,`
            A`).concat(g,",").concat(g,",0,1,1,").concat(v,",").concat(l),className:"recharts-legend-icon"});if(f==="rect")return c.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(_/8,"h").concat(_,"v").concat(_*3/4,"h").concat(-_,"z"),className:"recharts-legend-icon"});if(c.isValidElement(i.legendIcon)){var x=rt({},i);return delete x.legendIcon,c.cloneElement(i.legendIcon,x)}return c.createElement(ne,{fill:u,cx:l,cy:l,size:_,sizeType:"diameter",type:f})}function dt(t){var{payload:i,iconSize:s,layout:n,formatter:l,inactiveColor:g,iconType:v}=t,u={x:0,y:0,width:_,height:_},f={display:n==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map((x,p)=>{var m=x.formatter||l,k=ie({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:x.inactive});if(x.type==="none")return null;var o=x.inactive?g:x.color,w=m?m(x.value,x,p):x.value;return c.createElement("li",E({className:k,style:f,key:"legend-item-".concat(p)},re(t,x,p)),c.createElement(se,{width:s,height:s,viewBox:u,style:h,"aria-label":"".concat(w," legend icon")},c.createElement(lt,{data:x,iconType:v,inactiveColor:g})),c.createElement("span",{className:"recharts-legend-item-text",style:{color:o}},w))})}var ct=t=>{var i=X(t,ot),{payload:s,layout:n,align:l}=i;if(!s||!s.length)return null;var g={padding:0,margin:0,textAlign:n==="horizontal"?l:"left"};return c.createElement("ul",{className:"recharts-default-legend",style:g},c.createElement(dt,E({},i,{payload:s})))};function pt(){return ae(oe)}var xt=["contextPayload"];function B(){return B=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var n in s)({}).hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},B.apply(null,arguments)}function U(t,i){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),s.push.apply(s,n)}return s}function P(t){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?U(Object(s),!0).forEach(function(n){gt(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):U(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function gt(t,i,s){return(i=ft(i))in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s,t}function ft(t){var i=ht(t,"string");return typeof i=="symbol"?i:i+""}function ht(t,i){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,i);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}function ut(t,i){if(t==null)return{};var s,n,l=yt(t,i);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(t);for(n=0;n<g.length;n++)s=g[n],i.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(l[s]=t[s])}return l}function yt(t,i){if(t==null)return{};var s={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(i.indexOf(n)!==-1)continue;s[n]=t[n]}return s}function mt(t){return t.value}function bt(t){var{contextPayload:i}=t,s=ut(t,xt),n=he(i,t.payloadUniqBy,mt),l=P(P({},s),{},{payload:n});return c.isValidElement(t.content)?c.cloneElement(t.content,l):typeof t.content=="function"?c.createElement(t.content,l):c.createElement(ct,l)}function vt(t,i,s,n,l,g){var{layout:v,align:u,verticalAlign:f}=i,h,x;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&v==="vertical"?h={left:((n||0)-g.width)/2}:h=u==="right"?{right:s&&s.right||0}:{left:s&&s.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(f==="middle"?x={top:((l||0)-g.height)/2}:x=f==="bottom"?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),P(P({},h),x)}function jt(t){var i=Y();return c.useEffect(()=>{i(fe(t))},[i,t]),null}function kt(t){var i=Y();return c.useEffect(()=>(i(H(t)),()=>{i(H({width:0,height:0}))}),[i,t]),null}function _t(t,i,s,n){return t==="vertical"&&i!=null?{height:i}:t==="horizontal"?{width:s||n}:null}var St={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function te(t){var i=X(t,St),s=pt(),n=le(),l=de(),{width:g,height:v,wrapperStyle:u,portal:f}=i,[h,x]=ce([s]),p=pe(),m=xe();if(p==null||m==null)return null;var k=p-(l?.left||0)-(l?.right||0),o=_t(i.layout,v,g,k),w=f?u:P(P({position:"absolute",width:o?.width||g||"auto",height:o?.height||v||"auto"},vt(u,i,l,p,m,h)),u),j=f??n;if(j==null||s==null)return null;var C=c.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:x},c.createElement(jt,{layout:i.layout,align:i.align,verticalAlign:i.verticalAlign,itemSorter:i.itemSorter}),!f&&c.createElement(kt,{width:h.width,height:h.height}),c.createElement(bt,B({},i,o,{margin:l,chartWidth:p,chartHeight:m,contextPayload:s})));return ge.createPortal(C,j)}te.displayName="Legend";const wt="http://localhost:3000";function zt({attemptId:t,onBack:i,initialData:s=null,isEmbedded:n=!1}){const[l,g]=c.useState(s),[v,u]=c.useState(!s),[f,h]=c.useState("");c.useEffect(()=>{!s&&t&&x()},[t,s]);const x=async()=>{try{u(!0);const{data:r}=await O.get(`${wt}/api/skill-tests/report/${t}`);g(r)}catch(r){h(r.response?.data?.error||r.message)}finally{u(!1)}};if(v)return e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px",color:"#94a3b8",gap:"10px"},children:[e.jsx(T,{className:"animate-spin"})," Generating comprehensive report..."]});if(f)return e.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#ef4444"},children:f});const p=l?.attempt||l,m=l?.violations||l?.proctoring_logs||[];if(!p||!p.id)return e.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#94a3b8"},children:"Report data unavailable"});const k=p.overall_status==="completed",o=p.report&&typeof p.report=="object"?p.report:{},w=o.performance_metrics?[{subject:"Accuracy",A:o.performance_metrics.accuracy||0,fullMark:100},{subject:"Speed",A:o.performance_metrics.speed||0,fullMark:100},{subject:"Completeness",A:o.performance_metrics.completeness||0,fullMark:100},{subject:"Code Quality",A:o.performance_metrics.code_quality||0,fullMark:100},{subject:"Best Practices",A:o.performance_metrics.best_practices||(o.performance_metrics.code_quality?o.performance_metrics.code_quality-5:0),fullMark:100}]:[];let j=[];o.concept_mastery?j=Object.entries(o.concept_mastery).map(([r,d])=>({name:r,score:d})).sort((r,d)=>d.score-r.score).slice(0,8):o.skill_ratings&&(j=Object.entries(o.skill_ratings).map(([r,d])=>({name:r,score:d*10})));const C=[{key:"mcq",label:"MCQ Test",icon:e.jsx(A,{size:18}),score:Number(p.mcq_score||0),status:p.mcq_status,color:"#8b5cf6"},{key:"coding",label:"Coding Test",icon:e.jsx(L,{size:18}),score:Number(p.coding_score||0),status:p.coding_status,color:"#3b82f6"},{key:"sql",label:"SQL Test",icon:e.jsx(M,{size:18}),score:Number(p.sql_score||0),status:p.sql_status,color:"#10b981"},{key:"interview",label:"AI Interview",icon:e.jsx(N,{size:18}),score:Number(p.interview_score||0),status:p.interview_status,isOutOf10:!0,color:"#f59e0b"}];return e.jsxs("div",{style:{padding:"24px",maxWidth:"1200px",margin:"0 auto",fontFamily:"Inter, sans-serif"},children:[!n&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px"},children:[e.jsxs("button",{onClick:i,style:{padding:"8px 16px",background:"#334155",border:"1px solid #475569",borderRadius:"8px",cursor:"pointer",fontSize:"13px",color:"#94a3b8",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s"},children:[e.jsx(ue,{size:16})," Back"]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("h1",{style:{margin:0,fontSize:"24px",fontWeight:800,color:"#f1f5f9"},children:"Detailed Skill Report"}),e.jsxs("p",{style:{margin:0,fontSize:"13px",color:"#94a3b8"},children:["Generated on ",new Date(p.created_at).toLocaleDateString()]})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"24px",marginBottom:"32px"},children:[e.jsxs("div",{style:{background:k?"linear-gradient(135deg, rgba(34,197,94,0.15), rgba(6,95,70,0.2))":"linear-gradient(135deg, rgba(239,68,68,0.15), rgba(153,27,27,0.2))",border:"1px solid "+(k?"rgba(34,197,94,0.3)":"rgba(239,68,68,0.3)"),borderRadius:"16px",padding:"32px",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[e.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",marginBottom:"16px",display:"flex",alignItems:"center",justifyContent:"center",background:"#0f172a",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",border:`2px solid ${k?"#22c55e":"#ef4444"}`},children:k?e.jsx(ye,{size:40,color:"#22c55e"}):e.jsx(T,{size:40,color:"#ef4444"})}),e.jsx("h2",{style:{margin:"0 0 4px",fontSize:"24px",fontWeight:800,color:"#f1f5f9"},children:k?"Excellent Work!":"Needs Improvement"}),e.jsx("span",{style:{padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:700,background:k?"#22c55e":"#ef4444",color:"white",marginTop:"8px"},children:p.overall_status==="completed"?"PASSED":p.mcq_status==="failed"?"MCQ FAILED":p.coding_status==="failed"?"CODING FAILED":p.sql_status==="failed"?"SQL FAILED":p.interview_status==="failed"?"INTERVIEW FAILED":"NOT PASSED"})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px"},children:C.map(r=>{r.status==="completed"||r.status,!r.status||r.status;const d=r.isOutOf10?(r.score||0)*10:r.score||0;return e.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"16px",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",overflow:"hidden"},children:[e.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",height:"4px",background:"#334155"},children:e.jsx("div",{style:{width:`${d}%`,height:"100%",background:r.color,transition:"width 1s ease-out"}})}),e.jsx("div",{style:{marginBottom:"12px",color:r.color,background:`${r.color}15`,padding:"8px",borderRadius:"10px"},children:r.icon}),e.jsx("div",{style:{fontSize:"13px",color:"#cbd5e1",fontWeight:600},children:r.label}),e.jsxs("div",{style:{fontSize:"20px",fontWeight:800,color:"#f1f5f9",marginTop:"4px"},children:[r.isOutOf10?(r.score||0).toFixed(1):Math.round(r.score||0),e.jsx("span",{style:{fontSize:"12px",color:"#64748b",fontWeight:500},children:r.isOutOf10?"/10":"%"})]})]},r.key)})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginBottom:"32px"},children:[e.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"16px",padding:"24px"},children:[e.jsxs("h3",{style:{margin:"0 0 16px",fontSize:"18px",fontWeight:700,color:"#f1f5f9",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(A,{color:"#8b5cf6",size:20})," AI Assessment Summary"]}),e.jsx("div",{style:{fontSize:"14px",lineHeight:"1.7",color:"#cbd5e1"},children:o.summary||o.overall_assessment||"No summary available."}),o.behavioral_analysis&&e.jsxs("div",{style:{marginTop:"20px",padding:"16px",background:"rgba(59,130,246,0.1)",borderRadius:"12px",border:"1px solid rgba(59,130,246,0.2)"},children:[e.jsx("h4",{style:{margin:"0 0 8px",fontSize:"14px",fontWeight:700,color:"#60a5fa"},children:"Behavioral Analysis"}),e.jsx("p",{style:{margin:0,fontSize:"13px",color:"#cbd5e1"},children:o.behavioral_analysis})]})]}),e.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"16px",padding:"24px",display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx("h3",{style:{margin:"0 0 8px",fontSize:"18px",fontWeight:700,color:"#f1f5f9",alignSelf:"flex-start"},children:"Performance Metrics"}),w.length>0?e.jsx(F,{width:"100%",height:250,children:e.jsxs(me,{cx:"50%",cy:"50%",outerRadius:"75%",data:w,children:[e.jsx(be,{stroke:"#475569"}),e.jsx(ve,{dataKey:"subject",tick:{fill:"#94a3b8",fontSize:11}}),e.jsx(je,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),e.jsx(ke,{name:"Performance",dataKey:"A",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.4}),e.jsx(Q,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#334155",color:"#f1f5f9"}}),e.jsx(te,{})]})}):e.jsx("div",{style:{color:"#64748b",fontStyle:"italic",marginTop:"40px"},children:"Not enough data for metrics"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginBottom:"32px"},children:[e.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"16px",padding:"24px"},children:[e.jsx("h3",{style:{margin:"0 0 20px",fontSize:"18px",fontWeight:700,color:"#f1f5f9"},children:"Concept Mastery"}),j.length>0?e.jsx(F,{width:"100%",height:300,children:e.jsxs(_e,{data:j,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(Se,{strokeDasharray:"3 3",stroke:"#334155",horizontal:!1}),e.jsx(we,{type:"number",domain:[0,100],stroke:"#64748b",ticCount:5}),e.jsx(ze,{dataKey:"name",type:"category",width:100,stroke:"#94a3b8",fontSize:11}),e.jsx(Q,{cursor:{fill:"#334155",opacity:.4},contentStyle:{backgroundColor:"#0f172a",borderColor:"#334155",color:"#f1f5f9"}}),e.jsx(Ce,{dataKey:"score",fill:"#10b981",radius:[0,4,4,0],children:j.map((r,d)=>e.jsx(Pe,{fill:r.score>=80?"#10b981":r.score>=60?"#f59e0b":"#ef4444"},`cell-${d}`))})]})}):e.jsx("div",{style:{color:"#64748b"},children:"No concept data available"})]}),e.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"16px",padding:"24px",overflowY:"auto",maxHeight:"400px"},children:[e.jsxs("h3",{style:{margin:"0 0 20px",fontSize:"18px",fontWeight:700,color:"#f1f5f9",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(Re,{color:"#ef4444",size:20})," Skill Gap Analysis"]}),o.skill_gap_analysis?e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:o.skill_gap_analysis.map((r,d)=>e.jsxs("div",{style:{padding:"16px",background:"#0f172a",borderRadius:"12px",border:"1px solid #334155"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[e.jsx("span",{style:{fontWeight:700,color:"#f1f5f9"},children:r.skill}),e.jsxs("div",{style:{fontSize:"11px",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx("span",{style:{color:"#94a3b8"},children:r.current_level}),e.jsx(Be,{size:12,color:"#64748b"}),e.jsx("span",{style:{color:"#22c55e",fontWeight:700},children:r.target_level})]})]}),e.jsx("p",{style:{margin:0,fontSize:"13px",color:"#cbd5e1",lineHeight:"1.5"},children:r.gap_description})]},d))}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[o.weaknesses&&o.weaknesses.map((r,d)=>e.jsxs("div",{style:{padding:"12px",background:"rgba(239,68,68,0.1)",borderRadius:"8px",color:"#fca5a5",fontSize:"13px"},children:["â€¢ ",r]},d)),!o.weaknesses&&e.jsx("div",{style:{color:"#94a3b8"},children:"No specific gap analysis available."})]})]})]}),o.section_feedback&&e.jsxs("div",{style:{marginBottom:"32px"},children:[e.jsxs("h3",{style:{margin:"0 0 20px",fontSize:"20px",fontWeight:700,color:"#f1f5f9",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(Ie,{color:"#8b5cf6",size:24})," Section-wise Detailed Feedback"]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[{key:"mcq",label:"MCQ Analysis",icon:e.jsx(A,{size:18}),color:"#8b5cf6"},{key:"coding",label:"Coding Analysis",icon:e.jsx(L,{size:18}),color:"#3b82f6"},{key:"sql",label:"SQL Analysis",icon:e.jsx(M,{size:18}),color:"#10b981"},{key:"interview",label:"Interview Analysis",icon:e.jsx(N,{size:18}),color:"#f59e0b"}].map(r=>o.section_feedback[r.key]&&e.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"16px",padding:"20px"},children:[e.jsxs("h4",{style:{margin:"0 0 12px",fontSize:"15px",fontWeight:700,color:r.color,display:"flex",alignItems:"center",gap:"8px"},children:[r.icon," ",r.label]}),e.jsx("p",{style:{margin:0,fontSize:"13px",lineHeight:"1.7",color:"#cbd5e1"},children:o.section_feedback[r.key]})]},r.key))})]}),o.skill_wise_scores&&Object.keys(o.skill_wise_scores).length>0&&e.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"16px",padding:"24px",marginBottom:"32px"},children:[e.jsxs("h3",{style:{margin:"0 0 20px",fontSize:"18px",fontWeight:700,color:"#f1f5f9",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(Oe,{color:"#f59e0b",size:20})," Skill-wise Assessment"]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"12px"},children:Object.entries(o.skill_wise_scores).sort((r,d)=>d[1]-r[1]).map(([r,d],z)=>e.jsxs("div",{style:{padding:"14px 16px",background:"#0f172a",borderRadius:"12px",border:"1px solid #334155"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("span",{style:{fontSize:"13px",fontWeight:700,color:"#f1f5f9",textTransform:"capitalize"},children:r}),e.jsxs("span",{style:{fontSize:"13px",fontWeight:800,color:d>=80?"#22c55e":d>=60?"#f59e0b":"#ef4444"},children:[d,"%"]})]}),e.jsx("div",{style:{width:"100%",height:"6px",background:"#334155",borderRadius:"3px",overflow:"hidden"},children:e.jsx("div",{style:{width:`${d}%`,height:"100%",borderRadius:"3px",background:d>=80?"linear-gradient(90deg, #22c55e, #10b981)":d>=60?"linear-gradient(90deg, #f59e0b, #eab308)":"linear-gradient(90deg, #ef4444, #dc2626)",transition:"width 1s ease-out"}})})]},z))})]}),o.mcq_question_analysis&&o.mcq_question_analysis.length>0&&e.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"16px",padding:"24px",marginBottom:"32px"},children:[e.jsxs("h3",{style:{margin:"0 0 20px",fontSize:"18px",fontWeight:700,color:"#f1f5f9",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(A,{color:"#8b5cf6",size:20})," MCQ Question-wise Analysis"]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:o.mcq_question_analysis.map((r,d)=>e.jsxs("div",{style:{padding:"14px 16px",background:"#0f172a",borderRadius:"12px",border:`1px solid ${r.correct?"rgba(34,197,94,0.3)":"rgba(239,68,68,0.3)"}`,display:"flex",gap:"12px",alignItems:"flex-start"},children:[e.jsx("div",{style:{minWidth:"28px",height:"28px",borderRadius:"50%",background:r.correct?"rgba(34,197,94,0.15)":"rgba(239,68,68,0.15)",display:"flex",alignItems:"center",justifyContent:"center",marginTop:"2px"},children:r.correct?e.jsx(Z,{size:16,color:"#22c55e"}):e.jsx(J,{size:16,color:"#ef4444"})}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[e.jsxs("span",{style:{fontSize:"13px",fontWeight:700,color:"#f1f5f9"},children:["Q",d+1,": ",r.question_summary]}),r.skill&&e.jsx("span",{style:{fontSize:"10px",padding:"2px 8px",borderRadius:"10px",background:"rgba(139,92,246,0.15)",color:"#a78bfa"},children:r.skill})]}),e.jsx("p",{style:{margin:0,fontSize:"12px",color:"#94a3b8",lineHeight:"1.5"},children:r.feedback})]})]},d))})]}),o.coding_problem_analysis&&o.coding_problem_analysis.length>0&&e.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"16px",padding:"24px",marginBottom:"32px"},children:[e.jsxs("h3",{style:{margin:"0 0 20px",fontSize:"18px",fontWeight:700,color:"#f1f5f9",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(L,{color:"#3b82f6",size:20})," Coding Problem-wise Feedback"]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:o.coding_problem_analysis.map((r,d)=>e.jsxs("div",{style:{padding:"16px",background:"#0f172a",borderRadius:"12px",border:`1px solid ${r.solved?"rgba(59,130,246,0.3)":"rgba(245,158,11,0.3)"}`},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("span",{style:{fontSize:"14px",fontWeight:700,color:"#f1f5f9"},children:r.problem_title||`Problem ${d+1}`}),e.jsx("span",{style:{fontSize:"10px",fontWeight:700,padding:"3px 10px",borderRadius:"10px",background:r.solved?"rgba(34,197,94,0.15)":"rgba(239,68,68,0.15)",color:r.solved?"#22c55e":"#ef4444"},children:r.solved?"âœ“ Solved":"âœ— Not Solved"})]}),e.jsx("p",{style:{margin:"0 0 8px",fontSize:"13px",color:"#cbd5e1",lineHeight:"1.6"},children:r.feedback}),r.improvement_tip&&e.jsxs("div",{style:{padding:"8px 12px",borderRadius:"8px",background:"rgba(59,130,246,0.08)",border:"1px solid rgba(59,130,246,0.15)",fontSize:"12px",color:"#93c5fd"},children:["ðŸ’¡ ",e.jsx("strong",{children:"Tip:"})," ",r.improvement_tip]})]},d))})]}),o.sql_problem_analysis&&o.sql_problem_analysis.length>0&&e.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"16px",padding:"24px",marginBottom:"32px"},children:[e.jsxs("h3",{style:{margin:"0 0 20px",fontSize:"18px",fontWeight:700,color:"#f1f5f9",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(M,{color:"#10b981",size:20})," SQL Problem-wise Feedback"]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:o.sql_problem_analysis.map((r,d)=>e.jsxs("div",{style:{padding:"16px",background:"#0f172a",borderRadius:"12px",border:`1px solid ${r.solved?"rgba(16,185,129,0.3)":"rgba(245,158,11,0.3)"}`},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("span",{style:{fontSize:"14px",fontWeight:700,color:"#f1f5f9"},children:r.problem_title||`SQL Problem ${d+1}`}),e.jsx("span",{style:{fontSize:"10px",fontWeight:700,padding:"3px 10px",borderRadius:"10px",background:r.solved?"rgba(34,197,94,0.15)":"rgba(239,68,68,0.15)",color:r.solved?"#22c55e":"#ef4444"},children:r.solved?"âœ“ Correct":"âœ— Incorrect"})]}),e.jsx("p",{style:{margin:"0 0 8px",fontSize:"13px",color:"#cbd5e1",lineHeight:"1.6"},children:r.feedback}),r.improvement_tip&&e.jsxs("div",{style:{padding:"8px 12px",borderRadius:"8px",background:"rgba(16,185,129,0.08)",border:"1px solid rgba(16,185,129,0.15)",fontSize:"12px",color:"#6ee7b7"},children:["ðŸ’¡ ",e.jsx("strong",{children:"Tip:"})," ",r.improvement_tip]})]},d))})]}),o.interview_feedback&&o.interview_feedback.length>0&&e.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"16px",padding:"24px",marginBottom:"32px"},children:[e.jsxs("h3",{style:{margin:"0 0 20px",fontSize:"18px",fontWeight:700,color:"#f1f5f9",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(N,{color:"#f59e0b",size:20})," Interview Question-wise Feedback"]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:o.interview_feedback.map((r,d)=>{const z=(r.score||0)>=7?"#22c55e":(r.score||0)>=5?"#f59e0b":"#ef4444";return e.jsxs("div",{style:{padding:"16px",background:"#0f172a",borderRadius:"12px",border:"1px solid #334155"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsxs("span",{style:{fontSize:"14px",fontWeight:700,color:"#f1f5f9",flex:1},children:["Q",d+1,": ",r.question_summary]}),e.jsxs("span",{style:{fontSize:"14px",fontWeight:800,color:z,minWidth:"50px",textAlign:"right"},children:[r.score||0,"/10"]})]}),e.jsx("div",{style:{width:"100%",height:"4px",background:"#334155",borderRadius:"2px",marginBottom:"10px"},children:e.jsx("div",{style:{width:`${(r.score||0)/10*100}%`,height:"100%",borderRadius:"2px",background:z,transition:"width 1s ease-out"}})}),e.jsx("p",{style:{margin:"0 0 8px",fontSize:"13px",color:"#cbd5e1",lineHeight:"1.6"},children:r.feedback}),r.improvement_tip&&e.jsxs("div",{style:{padding:"8px 12px",borderRadius:"8px",background:"rgba(245,158,11,0.08)",border:"1px solid rgba(245,158,11,0.15)",fontSize:"12px",color:"#fbbf24"},children:["ðŸ’¡ ",e.jsx("strong",{children:"Improve:"})," ",r.improvement_tip]})]},d)})})]}),o.roadmap&&e.jsxs("div",{style:{marginBottom:"32px"},children:[e.jsxs("h3",{style:{margin:"0 0 20px",fontSize:"20px",fontWeight:700,color:"#f1f5f9",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(ee,{color:"#3b82f6",size:24})," Personalized Improvement Roadmap"]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:o.roadmap.map((r,d)=>e.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"16px",padding:"20px",position:"relative"},children:[e.jsxs("div",{style:{position:"absolute",top:"-10px",left:"20px",background:"#3b82f6",color:"white",fontSize:"11px",fontWeight:700,padding:"4px 10px",borderRadius:"10px"},children:["Week ",r.week]}),e.jsx("h4",{style:{marginTop:"12px",marginBottom:"12px",fontSize:"16px",fontWeight:700,color:"#93c5fd"},children:r.focus_area}),e.jsx("ul",{style:{margin:0,paddingLeft:"16px",color:"#cbd5e1",fontSize:"13px"},children:r.action_items.map((z,W)=>e.jsx("li",{style:{marginBottom:"6px"},children:z},W))})]},d))})]}),m&&m.length>0&&e.jsxs("div",{style:{background:"#1e293b",border:"1px solid rgba(239,68,68,0.3)",borderRadius:"16px",padding:"24px",marginBottom:"32px"},children:[e.jsxs("h3",{style:{margin:"0 0 16px",fontSize:"18px",fontWeight:700,display:"flex",alignItems:"center",gap:"8px",color:"#f87171"},children:[e.jsx(Ae,{size:20})," Proctoring Violations (",m.length,")"]}),e.jsx("div",{style:{maxHeight:"200px",overflowY:"auto"},children:m.map((r,d)=>e.jsxs("div",{style:{padding:"10px 14px",borderRadius:"8px",marginBottom:"6px",background:r.severity==="high"?"rgba(239,68,68,0.1)":"rgba(245,158,11,0.1)",fontSize:"13px",display:"flex",justifyContent:"space-between",color:"#cbd5e1"},children:[e.jsxs("span",{children:[e.jsx("strong",{children:r.event_type})," during ",r.test_stage]}),e.jsx("span",{style:{opacity:.7},children:new Date(r.created_at).toLocaleTimeString()})]},d))})]})]})}const I="http://localhost:3000";function Ft({user:t,isAdmin:i=!1}){const[s,n]=c.useState([]),[l,g]=c.useState(!0),[v,u]=c.useState(""),[f,h]=c.useState(null),[x,p]=c.useState("all"),[m,k]=c.useState({}),[o,w]=c.useState(!1),[j,C]=c.useState(!1);c.useEffect(()=>{r()},[]);const r=async()=>{try{g(!0);const a=i?`${I}/api/skill-tests/admin/all-submissions`:`${I}/api/skill-tests/student/submissions?studentId=${encodeURIComponent(t?.id||t?.userId||t?.email||"")}`,{data:b}=await O.get(a);n(b)}catch(a){u(a.response?.data?.error||a.message)}finally{g(!1)}},d=async a=>{if(f===a){h(null);return}if(h(a),!m[a])try{w(!0);const{data:b}=await O.get(`${I}/api/skill-tests/report/${a}`);k(S=>({...S,[a]:b}))}catch(b){console.error("Failed to fetch report details",b)}finally{w(!1)}},z=async()=>{if(window.confirm(`âš ï¸ Are you sure you want to DELETE ALL skill test submissions?

This will permanently remove all student attempts, reports, and proctoring logs.

This action CANNOT be undone!`))try{C(!0);const{data:a}=await O.delete(`${I}/api/skill-tests/admin/reset-all-submissions`);alert(`âœ… ${a.message}`),n([]),k({}),h(null)}catch(a){alert("âŒ Reset failed: "+(a.response?.data?.error||a.message))}finally{C(!1)}},W=async(a,b)=>{if(a.stopPropagation(),!!window.confirm("Delete this submission? This action cannot be undone."))try{await O.delete(`${I}/api/skill-tests/admin/submission/${b}`),n(S=>S.filter(D=>D.id!==b)),f===b&&h(null),delete m[b]}catch(S){alert("âŒ Delete failed: "+(S.response?.data?.error||S.message))}},$=x==="all"?s:x==="passed"?s.filter(a=>a.overall_status==="completed"):x==="failed"?s.filter(a=>a.overall_status==="failed"):s.filter(a=>a.overall_status==="in_progress"),q={total:s.length,passed:s.filter(a=>a.overall_status==="completed").length,failed:s.filter(a=>a.overall_status==="failed").length,inProgress:s.filter(a=>a.overall_status==="in_progress").length};return l?e.jsxs("div",{style:{textAlign:"center",padding:"60px",color:"#94a3b8"},children:[e.jsx(K,{size:32,style:{animation:"spin 1s linear infinite"}}),e.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"}),e.jsx("p",{style:{marginTop:"12px",fontSize:"14px"},children:"Loading submissions..."})]}):e.jsxs("div",{style:{padding:"24px",maxWidth:"1200px",margin:"0 auto"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("div",{style:{width:"42px",height:"42px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #8b5cf6, #6d28d9)"},children:e.jsx(V,{size:22,color:"white"})}),e.jsxs("div",{children:[e.jsx("h2",{style:{margin:0,fontSize:"22px",fontWeight:800,color:"#f1f5f9"},children:i?"All Skill Test Submissions":"My Skill Test Submissions"}),e.jsx("p",{style:{margin:0,fontSize:"13px",color:"#9ca3af"},children:i?"View all student assessment results":"View your assessment results & reports"})]})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[e.jsxs("div",{style:{padding:"8px 16px",borderRadius:"10px",background:"#1e293b",border:"1px solid #334155",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"11px",color:"#94a3b8",fontWeight:600},children:"PASSED"}),e.jsx("div",{style:{fontSize:"18px",fontWeight:800,color:"#22c55e"},children:q.passed})]}),e.jsxs("div",{style:{padding:"8px 16px",borderRadius:"10px",background:"#1e293b",border:"1px solid #334155",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"11px",color:"#94a3b8",fontWeight:600},children:"FAILED"}),e.jsx("div",{style:{fontSize:"18px",fontWeight:800,color:"#ef4444"},children:q.failed})]}),i&&s.length>0&&e.jsxs("button",{onClick:z,disabled:j,style:{padding:"10px 18px",borderRadius:"10px",border:"1px solid rgba(239,68,68,0.3)",background:"rgba(239,68,68,0.1)",color:"#f87171",cursor:j?"not-allowed":"pointer",fontSize:"13px",fontWeight:700,display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s",opacity:j?.5:1},onMouseEnter:a=>{a.target.style.background="rgba(239,68,68,0.2)"},onMouseLeave:a=>{a.target.style.background="rgba(239,68,68,0.1)"},children:[e.jsx(Ze,{size:15,style:j?{animation:"spin 1s linear infinite"}:{}}),j?"Resetting...":"Reset All"]})]})]}),e.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"24px",padding:"4px",background:"#1e293b",borderRadius:"12px",width:"fit-content",border:"1px solid #334155"},children:["all","passed","failed","in_progress"].map(a=>e.jsx("button",{onClick:()=>p(a),style:{padding:"8px 16px",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"13px",fontWeight:600,textTransform:"capitalize",background:x===a?"#334155":"transparent",color:x===a?"white":"#94a3b8",transition:"all 0.2s"},children:a.replace("_"," ")},a))}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:$.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"60px",color:"#64748b",background:"#1e293b",borderRadius:"16px",border:"1px solid #334155"},children:[e.jsx(V,{size:48,style:{opacity:.2,marginBottom:"16px"}}),e.jsx("p",{children:"No submissions found for this filter."})]}):$.map(a=>{const b=f===a.id,S=a.overall_status==="completed"?"#22c55e":a.overall_status==="failed"?"#ef4444":"#f59e0b",D=a.overall_status==="completed"?"rgba(34,197,94,0.1)":a.overall_status==="failed"?"rgba(239,68,68,0.1)":"rgba(245,158,11,0.1)";return e.jsxs("div",{style:{background:"#1e293b",border:`1px solid ${b?"#64748b":"#334155"}`,borderRadius:"16px",padding:"20px",transition:"all 0.2s",boxShadow:b?"0 4px 20px rgba(0,0,0,0.2)":"none"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},onClick:()=>d(a.id),children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[e.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:D,display:"flex",alignItems:"center",justifyContent:"center",border:`1px solid ${S}`},children:a.overall_status==="completed"?e.jsx(Z,{size:24,color:S}):a.overall_status==="failed"?e.jsx(J,{size:24,color:S}):e.jsx(Ee,{size:24,color:S})}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:700,color:"#f1f5f9"},children:a.title}),e.jsxs("span",{style:{fontSize:"11px",padding:"2px 8px",borderRadius:"10px",background:"#334155",color:"#94a3b8"},children:["#",a.attempt_number]})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"6px",fontSize:"13px",color:"#94a3b8"},children:[e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(ee,{size:13})," ",new Date(a.created_at).toLocaleDateString()]}),a.student_name&&i&&e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",color:"#e2e8f0",fontWeight:600},children:[e.jsx(T,{size:13})," ",a.student_name]})]})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"24px"},children:[e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#94a3b8",marginBottom:"2px"},children:"Total Score"}),e.jsxs("div",{style:{fontSize:"20px",fontWeight:800,color:"#f1f5f9"},children:[Math.round((Number(a.mcq_score||0)+Number(a.coding_score||0)+Number(a.sql_score||0)+Number(a.interview_score||0)*10)/4),"%"]})]}),i&&e.jsx("div",{onClick:R=>W(R,a.id),style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(239,68,68,0.1)",display:"flex",alignItems:"center",justifyContent:"center",color:"#f87171",cursor:"pointer",transition:"all 0.2s",border:"1px solid rgba(239,68,68,0.2)"},onMouseEnter:R=>{R.currentTarget.style.background="rgba(239,68,68,0.25)"},onMouseLeave:R=>{R.currentTarget.style.background="rgba(239,68,68,0.1)"},title:"Delete this submission",children:e.jsx(We,{size:15})}),e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"#334155",display:"flex",alignItems:"center",justifyContent:"center",color:"#94a3b8"},children:b?e.jsx(De,{size:20}):e.jsx(Le,{size:20})})]})]}),b&&e.jsx("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid #334155"},children:o&&!m[a.id]?e.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#94a3b8",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:[e.jsx(K,{size:24,style:{animation:"spin 1s linear infinite"}})," Loading detailed report..."]}):e.jsx(zt,{attemptId:a.id,initialData:m[a.id],isEmbedded:!0})})]},a.id)})})]})}export{It as C,Ot as E,At as G,Et as H,Wt as K,Dt as L,Mt as M,Nt as P,Ze as R,zt as S,qt as T,Ht as V,Be as a,K as b,Rt as c,Lt as d,$t as e,Tt as f,Bt as g,Ft as h,te as i};
